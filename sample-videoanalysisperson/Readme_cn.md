ä¸­æ–‡|[English](Readme.md)

# äººä½“æ£€æµ‹<a name="ZH-CN_TOPIC_0203223281"></a>

å¼€å‘è€…å°†æœ¬Applicationéƒ¨ç½²è‡³Atlas 200 DKæˆ–è€…AIåŠ é€Ÿäº‘æœåŠ¡å™¨ä¸Šå®žçŽ°å¯¹æœ¬åœ°mp4æ–‡ä»¶æˆ–è€…RTSPè§†é¢‘æµè¿›è¡Œè§£ç ï¼Œå¯¹è§†é¢‘å¸§ä¸­çš„è¡Œäººå’Œäººè„¸è¿›è¡Œæ£€æµ‹å¹¶å¯¹å…¶å±žæ€§è¿›è¡Œé¢„æµ‹ï¼Œç”Ÿæˆç»“æž„åŒ–ä¿¡æ¯å‘é€è‡³Serverç«¯è¿›è¡Œä¿å­˜ã€å±•ç¤ºçš„åŠŸèƒ½ã€‚

å½“å‰åˆ†æ”¯ä¸­çš„åº”ç”¨é€‚é…**1.32.0.0åŠä»¥ä¸Š**ç‰ˆæœ¬çš„[DDK&RunTime](https://ascend.huawei.com/resources)ã€‚

## å‰ææ¡ä»¶<a name="section137245294533"></a>

éƒ¨ç½²æ­¤Sampleå‰ï¼Œéœ€è¦å‡†å¤‡å¥½ä»¥ä¸‹çŽ¯å¢ƒï¼š

-   å·²å®ŒæˆMind Studioçš„å®‰è£…ã€‚
-   å·²å®ŒæˆAtlas 200 DKå¼€å‘è€…æ¿ä¸ŽMind Studioçš„è¿žæŽ¥ï¼Œäº¤å‰ç¼–è¯‘å™¨çš„å®‰è£…ï¼ŒSDå¡çš„åˆ¶ä½œåŠåŸºæœ¬ä¿¡æ¯çš„é…ç½®ç­‰ã€‚

## è½¯ä»¶å‡†å¤‡<a name="section8534138124114"></a>

è¿è¡Œæ­¤Sampleå‰ï¼Œéœ€è¦æŒ‰ç…§æ­¤ç« èŠ‚èŽ·å–æºç åŒ…ï¼Œå¹¶è¿›è¡Œç›¸å…³çš„çŽ¯å¢ƒé…ç½®ã€‚

1.  <a name="li953280133816"></a>èŽ·å–æºç åŒ…ã€‚
    1.  ä¸‹è½½åŽ‹ç¼©åŒ…æ–¹å¼èŽ·å–ã€‚

        å°†[https://github.com/Atlas200dk/sample-videoanalysisperson/tree/1-3x-0-0/](https://github.com/Atlas200dk/sample-videoanalysisperson/tree/1-3x-0-0/)ä»“ä¸­çš„ä»£ç ä»¥Mind Studioå®‰è£…ç”¨æˆ·ä¸‹è½½è‡³Mind Studioæ‰€åœ¨UbuntuæœåŠ¡å™¨çš„ä»»æ„ç›®å½•ï¼Œä¾‹å¦‚ä»£ç å­˜æ”¾è·¯å¾„ä¸ºï¼š$HOME/AscendProjects/sample-videoanalysispersonã€‚

    2.  å‘½ä»¤è¡Œä½¿ç”¨gitå‘½ä»¤æ–¹å¼èŽ·å–ã€‚

        åœ¨å‘½ä»¤è¡Œä¸­ï¼š$HOME/AscendProjectsç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¸‹è½½ä»£ç ã€‚

        **git clone https://github.com/Atlas200dk/sample-videoanalysisperson.git --branch 1-3x-0-0**

2.  <a name="li5507119145914"></a>èŽ·å–æ­¤åº”ç”¨ä¸­æ‰€éœ€è¦çš„åŽŸå§‹ç½‘ç»œæ¨¡åž‹ã€‚

    å‚è€ƒ[è¡¨1](#table1193115345597)èŽ·å–æ­¤åº”ç”¨ä¸­æ‰€ç”¨åˆ°çš„åŽŸå§‹ç½‘ç»œæ¨¡åž‹åŠå…¶å¯¹åº”çš„æƒé‡æ–‡ä»¶ï¼Œå¹¶å°†å…¶å­˜æ”¾åˆ°Mind Studioæ‰€åœ¨UbuntuæœåŠ¡å™¨çš„ä»»æ„ç›®å½•ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶å¿…é¡»å­˜æ”¾åˆ°åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚ä¾‹å¦‚ï¼š$HOME/models/videoanalysispersionã€‚

    **è¡¨ 1**  äººä½“æ£€æµ‹åº”ç”¨ä¸­ä½¿ç”¨æ¨¡åž‹

    <a name="table1193115345597"></a>
    <table><thead align="left"><tr id="row1187103505916"><th class="cellrowborder" valign="top" width="15.06%" id="mcps1.2.4.1.1"><p id="p887235105910"><a name="p887235105910"></a><a name="p887235105910"></a>æ¨¡åž‹åç§°</p>
    </th>
    <th class="cellrowborder" valign="top" width="10.58%" id="mcps1.2.4.1.2"><p id="p16877355598"><a name="p16877355598"></a><a name="p16877355598"></a>æ¨¡åž‹è¯´æ˜Ž</p>
    </th>
    <th class="cellrowborder" valign="top" width="74.36%" id="mcps1.2.4.1.3"><p id="p18713511598"><a name="p18713511598"></a><a name="p18713511598"></a>æ¨¡åž‹ä¸‹è½½è·¯å¾„</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row3881635175910"><td class="cellrowborder" valign="top" width="15.06%" headers="mcps1.2.4.1.1 "><p id="p48863512592"><a name="p48863512592"></a><a name="p48863512592"></a>face_detection</p>
    </td>
    <td class="cellrowborder" valign="top" width="10.58%" headers="mcps1.2.4.1.2 "><p id="p688163513595"><a name="p688163513595"></a><a name="p688163513595"></a>äººè„¸æ£€æµ‹ç½‘ç»œæ¨¡åž‹ã€‚</p>
    <p id="p1488735175914"><a name="p1488735175914"></a><a name="p1488735175914"></a>æ­¤æ¨¡åž‹æ˜¯åŸºäºŽCaffeçš„Resnet10-SSD300æ¨¡åž‹è½¬æ¢åŽçš„ç½‘ç»œæ¨¡åž‹ã€‚</p>
    </td>
    <td class="cellrowborder" valign="top" width="74.36%" headers="mcps1.2.4.1.3 "><p id="p1588203519592"><a name="p1588203519592"></a><a name="p1588203519592"></a>è¯·å‚è€ƒ<a href="https://github.com/Ascend-Huawei/models/tree/master/computer_vision/object_detect/face_detection" target="_blank" rel="noopener noreferrer">https://github.com/Ascend-Huawei/models/tree/master/computer_vision/object_detect/face_detection</a>ç›®å½•ä¸­README.mdä¸‹è½½åŽŸå§‹ç½‘ç»œæ¨¡åž‹æ–‡ä»¶åŠå…¶å¯¹åº”çš„æƒé‡æ–‡ä»¶ã€‚</p>
    </td>
    </tr>
    <tr id="row98823585915"><td class="cellrowborder" valign="top" width="15.06%" headers="mcps1.2.4.1.1 "><p id="p1188103555919"><a name="p1188103555919"></a><a name="p1188103555919"></a>pedestrian</p>
    </td>
    <td class="cellrowborder" valign="top" width="10.58%" headers="mcps1.2.4.1.2 "><p id="p18889356598"><a name="p18889356598"></a><a name="p18889356598"></a>äººä½“ç‰¹å¾æŽ¨ç†æ¨¡åž‹ã€‚</p>
    <p id="p48853545911"><a name="p48853545911"></a><a name="p48853545911"></a>åŸºäºŽCaffeçš„VeSPAæ¨¡åž‹ã€‚</p>
    </td>
    <td class="cellrowborder" valign="top" width="74.36%" headers="mcps1.2.4.1.3 "><p id="p5881335145918"><a name="p5881335145918"></a><a name="p5881335145918"></a>è¯·å‚è€ƒ<a href="https://github.com/Ascend-Huawei/models/tree/master/computer_vision/classification/pedestrian" target="_blank" rel="noopener noreferrer">https://github.com/Ascend-Huawei/models/tree/master/computer_vision/classification/pedestrian</a>ç›®å½•ä¸­README.mdä¸‹è½½åŽŸå§‹ç½‘ç»œæ¨¡åž‹æ–‡ä»¶åŠå…¶å¯¹åº”çš„æƒé‡æ–‡ä»¶ã€‚</p>
    </td>
    </tr>
    <tr id="row388153512593"><td class="cellrowborder" valign="top" width="15.06%" headers="mcps1.2.4.1.1 "><p id="p188811350596"><a name="p188811350596"></a><a name="p188811350596"></a>inception_age</p>
    </td>
    <td class="cellrowborder" valign="top" width="10.58%" headers="mcps1.2.4.1.2 "><p id="p138803555914"><a name="p138803555914"></a><a name="p138803555914"></a>å¹´é¾„è¯†åˆ«ç½‘ç»œæ¨¡åž‹ã€‚</p>
    <p id="p2882351595"><a name="p2882351595"></a><a name="p2882351595"></a>åŸºäºŽTensorflowçš„Inception V3æ¨¡åž‹ã€‚</p>
    </td>
    <td class="cellrowborder" valign="top" width="74.36%" headers="mcps1.2.4.1.3 "><p id="p78813518594"><a name="p78813518594"></a><a name="p78813518594"></a>è¯·å‚è€ƒ<a href="https://github.com/Ascend-Huawei/models/tree/master/computer_vision/classification/inception_age" target="_blank" rel="noopener noreferrer">https://github.com/Ascend-Huawei/models/tree/master/computer_vision/classification/inception_age</a>ç›®å½•ä¸­README.mdä¸‹è½½åŽŸå§‹ç½‘ç»œPBæ¨¡åž‹æ–‡ä»¶ã€‚</p>
    </td>
    </tr>
    <tr id="row1788163525912"><td class="cellrowborder" valign="top" width="15.06%" headers="mcps1.2.4.1.1 "><p id="p1788123518593"><a name="p1788123518593"></a><a name="p1788123518593"></a>inception_gender</p>
    </td>
    <td class="cellrowborder" valign="top" width="10.58%" headers="mcps1.2.4.1.2 "><p id="p10884353596"><a name="p10884353596"></a><a name="p10884353596"></a>æ€§åˆ«è¯†åˆ«ç½‘ç»œæ¨¡åž‹ã€‚</p>
    <p id="p1388133595913"><a name="p1388133595913"></a><a name="p1388133595913"></a>åŸºäºŽTensorflowçš„Inception V3æ¨¡åž‹ã€‚</p>
    </td>
    <td class="cellrowborder" valign="top" width="74.36%" headers="mcps1.2.4.1.3 "><p id="p1988103514599"><a name="p1988103514599"></a><a name="p1988103514599"></a>è¯·å‚è€ƒ<a href="https://github.com/Ascend-Huawei/models/tree/master/computer_vision/classification/inception_gender" target="_blank" rel="noopener noreferrer">https://github.com/Ascend-Huawei/models/tree/master/computer_vision/classification/inception_gender</a>ç›®å½•ä¸­README.mdä¸‹è½½åŽŸå§‹ç½‘ç»œPBæ¨¡åž‹æ–‡ä»¶ã€‚</p>
    </td>
    </tr>
    <tr id="row19881135115914"><td class="cellrowborder" valign="top" width="15.06%" headers="mcps1.2.4.1.1 "><p id="p13881355593"><a name="p13881355593"></a><a name="p13881355593"></a>vgg_ssd</p>
    </td>
    <td class="cellrowborder" valign="top" width="10.58%" headers="mcps1.2.4.1.2 "><p id="p128819351596"><a name="p128819351596"></a><a name="p128819351596"></a>ç›®æ ‡æ£€æµ‹ç½‘ç»œæ¨¡åž‹ã€‚</p>
    <p id="p588153519599"><a name="p588153519599"></a><a name="p588153519599"></a>åŸºäºŽCaffeçš„SSD512æ¨¡åž‹ã€‚</p>
    <p id="p158813355590"><a name="p158813355590"></a><a name="p158813355590"></a></p>
    </td>
    <td class="cellrowborder" valign="top" width="74.36%" headers="mcps1.2.4.1.3 "><p id="p588183595913"><a name="p588183595913"></a><a name="p588183595913"></a>è¯·å‚è€ƒ<a href="https://github.com/Ascend-Huawei/models/tree/master/computer_vision/object_detect/vgg_ssd" target="_blank" rel="noopener noreferrer">https://github.com/Ascend-Huawei/models/tree/master/computer_vision/object_detect/vgg_ssd</a>ç›®å½•ä¸­README.mdä¸‹è½½åŽŸå§‹ç½‘ç»œæ¨¡åž‹æ–‡ä»¶åŠå…¶å¯¹åº”çš„æƒé‡æ–‡ä»¶ã€‚</p>
    </td>
    </tr>
    </tbody>
    </table>

3.  ä»¥Mind Studioå®‰è£…ç”¨æˆ·ç™»å½•Mind Studioæ‰€åœ¨UbuntuæœåŠ¡å™¨ï¼Œç¡®å®šå½“å‰ä½¿ç”¨çš„DDKç‰ˆæœ¬å·å¹¶è®¾ç½®çŽ¯å¢ƒå˜é‡DDK\_HOMEï¼Œtools\_versionï¼ŒNPU\_DEVICE\_LIBå’ŒLD\_LIBRARY\_PATHã€‚
    1.  <a name="zh-cn_topic_0203223294_li61417158198"></a>æŸ¥è¯¢å½“å‰ä½¿ç”¨çš„DDKç‰ˆæœ¬å·ã€‚

        å¯é€šè¿‡Mind Studioå·¥å…·æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥é€šè¿‡DDKè½¯ä»¶åŒ…è¿›è¡ŒèŽ·å–ã€‚

        -   ä½¿ç”¨Mind Studioå·¥å…·æŸ¥è¯¢ã€‚

            åœ¨Mind Studioå·¥ç¨‹ç•Œé¢ä¾æ¬¡é€‰æ‹©â€œFile \> Settings \> System Settings \> Ascend DDKâ€œï¼Œå¼¹å‡ºå¦‚[å›¾ DDKç‰ˆæœ¬å·æŸ¥è¯¢](#zh-cn_topic_0203223294_fig17553193319118)æ‰€ç¤ºç•Œé¢ã€‚

            **å›¾ 1**  DDKç‰ˆæœ¬å·æŸ¥è¯¢<a name="zh-cn_topic_0203223294_fig17553193319118"></a>  
            ![](figures/DDKç‰ˆæœ¬å·æŸ¥è¯¢.png "DDKç‰ˆæœ¬å·æŸ¥è¯¢")

            å…¶ä¸­æ˜¾ç¤ºçš„**DDK Version**å°±æ˜¯å½“å‰ä½¿ç”¨çš„DDKç‰ˆæœ¬å·ï¼Œå¦‚**1.31.T15.B150**ã€‚

        -   é€šè¿‡DDKè½¯ä»¶åŒ…è¿›è¡ŒæŸ¥è¯¢ã€‚

            é€šè¿‡å®‰è£…çš„DDKçš„åŒ…åèŽ·å–DDKçš„ç‰ˆæœ¬å·ã€‚

            DDKåŒ…çš„åŒ…åæ ¼å¼ä¸ºï¼š**Ascend\_DDK-\{software version\}-\{interface version\}-x86\_64.ubuntu16.04.tar.gz**

            å…¶ä¸­**software version**å°±æ˜¯DDKçš„è½¯ä»¶ç‰ˆæœ¬å·ã€‚

            ä¾‹å¦‚ï¼š

            DDKåŒ…çš„åŒ…åä¸ºAscend\_DDK-1.31.T15.B150-1.1.1-x86\_64.ubuntu16.04.tar.gzï¼Œåˆ™æ­¤DDKçš„ç‰ˆæœ¬å·ä¸º1.31.T15.B150ã€‚

    2.  è®¾ç½®çŽ¯å¢ƒå˜é‡ã€‚

        **vim \~/.bashrc**

        æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤åœ¨æœ€åŽä¸€è¡Œæ·»åŠ DDK\_HOMEåŠLD\_LIBRARY\_PATHçš„çŽ¯å¢ƒå˜é‡ã€‚

        **export tools\_version=_1.31.X.X_**

        **export DDK\_HOME=\\$HOME/.mindstudio/huawei/ddk/\\$tools\_version/ddk**

        **export LD\_LIBRARY\_PATH=$DDK\_HOME/lib/x86\_64-linux-gcc5.4**

        >![](public_sys-resources/icon-note.gif) **è¯´æ˜Žï¼š**   
        >-   **_1.31.X.X_**æ˜¯[a](#zh-cn_topic_0203223294_li61417158198)ä¸­æŸ¥è¯¢åˆ°çš„DDKç‰ˆæœ¬å·ï¼Œéœ€è¦æ ¹æ®æŸ¥è¯¢ç»“æžœå¯¹åº”å¡«å†™ï¼Œå¦‚**1.31.T15.B150**  
        >-   å¦‚æžœæ­¤çŽ¯å¢ƒå˜é‡å·²ç»æ·»åŠ ï¼Œåˆ™æ­¤æ­¥éª¤å¯è·³è¿‡ã€‚  

        è¾“å…¥:wq!ä¿å­˜é€€å‡ºã€‚

        æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä½¿çŽ¯å¢ƒå˜é‡ç”Ÿæ•ˆã€‚

        **source \~/.bashrc**

4.  å°†åŽŸå§‹ç½‘ç»œæ¨¡åž‹è½¬æ¢ä¸ºé€‚é…æ˜‡è…¾AIå¤„ç†å™¨çš„æ¨¡åž‹ï¼Œæ¨¡åž‹è½¬æ¢æœ‰Mind Studioå·¥å…·è½¬æ¢å’Œå‘½ä»¤è¡Œè½¬æ¢ä¸¤ç§æ–¹å¼ã€‚
    -   é€šè¿‡Mind Studioå·¥å…·è¿›è¡Œæ¨¡åž‹è½¬æ¢ã€‚
        1.  åœ¨Mind Studioæ“ä½œç•Œé¢çš„é¡¶éƒ¨èœå•æ ä¸­é€‰æ‹©**Tools \> ModelÂ Convert**ï¼Œè¿›å…¥æ¨¡åž‹è½¬æ¢ç•Œé¢ã€‚
        2.  åœ¨å¼¹å‡ºçš„**Model** **Conversion**æ“ä½œç•Œé¢ä¸­ï¼Œè¿›è¡Œæ¨¡åž‹è½¬æ¢é…ç½®ã€‚
            -   Model Fileé€‰æ‹©[æ­¥éª¤2](#li5507119145914)ä¸­ä¸‹è½½çš„æ¨¡åž‹æ–‡ä»¶ï¼Œæ­¤æ—¶ä¼šè‡ªåŠ¨åŒ¹é…åˆ°æƒé‡æ–‡ä»¶å¹¶å¡«å†™åœ¨Weight Fileä¸­ã€‚
            -   Model Nameå¡«å†™ä¸º[è¡¨1](#table1193115345597)ä¸­å¯¹åº”çš„æ¨¡åž‹åç§°ã€‚
            -   Tensorflowæ¨¡åž‹è½¬æ¢æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å¡«å†™input shapeä¸­çš„Nå€¼ã€‚Wã€Hã€Cæœ‰é»˜è®¤å€¼ï¼Œæ— éœ€å¡«å†™ã€‚
            -   Pedestrianæ¨¡åž‹ä¸­AIPPé…ç½®ä¸­çš„**Input Image Size**éœ€è¦åˆ†åˆ«ä¿®æ”¹ä¸º256ã€240ï¼Œæ­¤å¤„éœ€è¦128\*16å¯¹é½ï¼Œ**Model Image Format**  é€‰æ‹©BGR888\_U8ã€‚

                **å›¾ 2**  Pedestrianæ¨¡åž‹è½¬æ¢æ—¶AIPPé…ç½®<a name="fig15011753113814"></a>  
                ![](figures/Pedestrianæ¨¡åž‹è½¬æ¢æ—¶AIPPé…ç½®.png "Pedestrianæ¨¡åž‹è½¬æ¢æ—¶AIPPé…ç½®")

            -   inception\_ageæ¨¡åž‹è½¬æ¢æ—¶çš„éžé»˜è®¤é…ç½®å¦‚ä¸‹ï¼š
                -   age\_inferenceä¸€æ¬¡å¤„ç†10å¼ å›¾ç‰‡ï¼Œæ‰€ä»¥è½¬æ¢æ—¶éœ€è¦å°†Nodesé…ç½®ä¸­çš„**N**å¡«å†™ä¸º10ã€‚

                    **å›¾ 3**  inception\_ageæ¨¡åž‹è½¬æ¢æ—¶Nodesé…ç½®<a name="fig1336219448573"></a>  
                    ![](figures/inception_ageæ¨¡åž‹è½¬æ¢æ—¶Nodesé…ç½®.png "inception_ageæ¨¡åž‹è½¬æ¢æ—¶Nodesé…ç½®")

                -   AIPPé…ç½®ä¸­çš„**Input Image Size**éœ€è¦åˆ†åˆ«ä¿®æ”¹ä¸º256,240 æ­¤å¤„éœ€è¦åš128\*16å¯¹é½ï¼Œ**Model Image Format**  é€‰æ‹©BGR888\_U8ã€‚

                    **å›¾ 4**  inception\_ageæ¨¡åž‹è½¬æ¢æ—¶AIPPé…ç½®<a name="fig334910264011"></a>  
                    ![](figures/inception_ageæ¨¡åž‹è½¬æ¢æ—¶AIPPé…ç½®.png "inception_ageæ¨¡åž‹è½¬æ¢æ—¶AIPPé…ç½®")

            -   inception\_genderæ¨¡åž‹è½¬æ¢æ—¶éžé»˜è®¤é…ç½®å¦‚ä¸‹ï¼š
                -   gender\_inferenceä¸€æ¬¡å¤„ç†10å¼ å›¾ç‰‡ï¼Œæ‰€ä»¥è½¬æ¢æ—¶éœ€è¦å°†Nodesé…ç½®ä¸­çš„**N**å¡«å†™ä¸º10ã€‚

                    **å›¾ 5**  inception\_genderæ¨¡åž‹è½¬æ¢æ—¶Nodesé…ç½®<a name="fig1136210442579"></a>  
                    ![](figures/inception_genderæ¨¡åž‹è½¬æ¢æ—¶Nodesé…ç½®.png "inception_genderæ¨¡åž‹è½¬æ¢æ—¶Nodesé…ç½®")

                -   AIPPé…ç½®ä¸­**Input Image Size**éœ€è¦åˆ†åˆ«ä¿®æ”¹ä¸º256ã€240ï¼Œæ­¤å¤„éœ€è¦128\*16å¯¹é½ï¼Œ**Model Image Format**  é€‰æ‹©BGR888\_U8ã€‚

                    ![](figures/zh-cn_image_0208265214.png)

            -   face\_detectionæ¨¡åž‹è½¬æ¢æ—¶AIPPé…ç½®ä¸­çš„**Input Image Size**éœ€è¦åˆ†åˆ«ä¿®æ”¹ä¸º384ã€304ï¼Œæ­¤å¤„éœ€è¦128\*16å¯¹é½ï¼Œ**Model Image Format**  é€‰æ‹©BGR888\_U8ã€‚ã€‚

                **å›¾ 6**  face\_detectionæ¨¡åž‹è½¬æ¢æ—¶éžé»˜è®¤é…ç½®<a name="fig1336214415715"></a>  
                ![](figures/face_detectionæ¨¡åž‹è½¬æ¢æ—¶éžé»˜è®¤é…ç½®.png "face_detectionæ¨¡åž‹è½¬æ¢æ—¶éžé»˜è®¤é…ç½®")

                >![](public_sys-resources/icon-note.gif) **è¯´æ˜Žï¼š**   
                >å…¶ä»–æœªè¯´æ˜Žé…ç½®è¯·ä½¿ç”¨é»˜è®¤é…ç½®ã€‚  


        3.  å•å‡»**OK**å¼€å§‹è½¬æ¢æ¨¡åž‹ã€‚

            face\_detectionã€vgg\_ssdæ¨¡åž‹åœ¨è½¬æ¢çš„æ—¶å€™ï¼Œä¼šæœ‰æŠ¥é”™ï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

            **å›¾ 7**  æ¨¡åž‹è½¬æ¢é”™è¯¯ä¿¡æ¯<a name="fig138681281084"></a>  
            ![](figures/æ¨¡åž‹è½¬æ¢é”™è¯¯ä¿¡æ¯.png "æ¨¡åž‹è½¬æ¢é”™è¯¯ä¿¡æ¯")

            æ­¤æ—¶åœ¨DetectionOutputå±‚çš„Suggestionä¸­é€‰æ‹©SSDDetectionOutputï¼Œå¹¶ç‚¹å‡»Retryã€‚

            æ¨¡åž‹è½¬æ¢æˆåŠŸåŽï¼ŒåŽç¼€ä¸º.omçš„ç¦»çº¿æ¨¡åž‹å­˜æ”¾åœ°å€ä¸ºï¼š$HOME/modelzoo/XXX/deviceã€‚

            >![](public_sys-resources/icon-note.gif) **è¯´æ˜Žï¼š**   
            >-   Mind Studioæ¨¡åž‹è½¬æ¢ä¸­æ¯ä¸€æ­¥çš„å…·ä½“æ„ä¹‰å’Œå‚æ•°è¯´æ˜Žå¯ä»¥å‚è€ƒ[Mind Studioç”¨æˆ·æ‰‹å†Œ](https://ascend.huawei.com/doc/mindstudio/)ä¸­çš„â€œæ¨¡åž‹è½¬æ¢â€œç« èŠ‚ã€‚  
            >-   XXXè¡¨ç¤ºå½“å‰è½¬æ¢çš„æ¨¡åž‹åç§°ï¼Œå¦‚face\_detection.omå­˜æ”¾åœ°å€ä¸ºï¼š$HOME/modelzoo/face\_detection/deviceã€‚  


    -   å‘½ä»¤è¡Œæ¨¡å¼ä¸‹æ¨¡åž‹è½¬æ¢ã€‚
        1.  ä»¥Mind Studioå®‰è£…ç”¨æˆ·è¿›å…¥å­˜æ”¾åŽŸå§‹æ¨¡åž‹çš„æ–‡ä»¶å¤¹ã€‚

            **cd $HOME/models/videoanalysisperson**

        2.  è°ƒç”¨omgå·¥å…·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯¹sampleä¸­éœ€è¦ä½¿ç”¨çš„Caffeæ¨¡åž‹è¿›è¡Œæ¨¡åž‹è½¬æ¢ã€‚

            ```
            ${DDK_HOME}/uihost/bin/omg --output="./XXX" --model="./XXX.prototxt" --framework=0 --ddk_version=${tools_version} --weight="./XXX.caffemodel" --input_shape=`head -1 $HOME/AscendProjects/sample-videoanalysisperson/script/shape_XXX` --insert_op_conf=$HOME/AscendProjects/sample-videoanalysisperson/script/aipp_XXX.cfg --op_name_map=$HOME/AscendProjects/sample-videoanalysisperson/script/reassign_operators
            ```

            >![](public_sys-resources/icon-note.gif) **è¯´æ˜Žï¼š**   
            >-   input\_shapeã€insert\_op\_confã€op\_name\_mapæ‰€éœ€è¦çš„æ–‡ä»¶éƒ½åœ¨æºç æ‰€åœ¨è·¯å¾„ä¸‹çš„â€œsample-videoanalysisperson/scriptâ€ç›®å½•ä¸‹ï¼Œè¯·æ ¹æ®æ‚¨å®žé™…çš„æºç æ‰€åœ¨è·¯å¾„é…ç½®è¿™äº›æ–‡ä»¶è·¯å¾„ã€‚  
            >-   **XXX**ä¸º[è¡¨ äººä½“æ£€æµ‹åº”ç”¨ä¸­ä½¿ç”¨æ¨¡åž‹](#table1193115345597)ä¸­çš„caffeæ¨¡åž‹åç§°ï¼Œè½¬æ¢æ—¶è¯·æ›¿æ¢å¡«å…¥éœ€è¦è½¬æ¢çš„caffeæ¨¡åž‹åç§°ã€‚å…¶ä¸­pedestrianæ¨¡åž‹è½¬æ¢æ—¶ä¸éœ€è¦op\_name\_mapå‚æ•°ï¼Œå¦‚æžœæ²¡æœ‰åˆ é™¤ä¸éœ€è¦çš„å‚æ•°ï¼Œè½¬æ¢æ¨¡åž‹æ—¶ä¼šæœ‰æŠ¥é”™ã€‚  
            >-   æ¯ä¸ªå‚æ•°çš„å…·ä½“æ„ä¹‰å¯å‚è€ƒ[Atlas 200 DKç”¨æˆ·æ‰‹å†Œ](https://ascend.huawei.com/doc/atlas200dk/)ä¸­çš„â€œæ¨¡åž‹è½¬æ¢â€œç« èŠ‚ã€‚  

        3.  è°ƒç”¨omgå·¥å…·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯¹sampleä¸­éœ€è¦ä½¿ç”¨çš„TensorFlowæ¨¡åž‹è¿›è¡Œæ¨¡åž‹è½¬æ¢

            ```
            ${DDK_HOME}/uihost/bin/omg --output="./XXX" --model="./XXX.pb" --framework=3 --ddk_version=${tools_version} --input_shape=`head -1 $HOME/AscendProjects/sample-videoanalysisperson/script/shape_XXX` --insert_op_conf=$HOME/AscendProjects/sample-videoanalysisperson/script/aipp_XXX.cfg
            ```

            >![](public_sys-resources/icon-note.gif) **è¯´æ˜Žï¼š**   
            >-   **XXX**ä¸º[è¡¨ äººä½“æ£€æµ‹åº”ç”¨ä¸­ä½¿ç”¨æ¨¡åž‹](#table1193115345597)ä¸­çš„TensorFlowæ¨¡åž‹åç§°ï¼Œè½¬æ¢æ—¶è¯·æ›¿æ¢å¡«å…¥éœ€è¦è½¬æ¢çš„TensorFlowæ¨¡åž‹åç§°ã€‚  


5.  å°†è½¬æ¢å¥½çš„æ¨¡åž‹æ–‡ä»¶ï¼ˆ.omæ–‡ä»¶ï¼‰ä¸Šä¼ åˆ°[æ­¥éª¤1](#li953280133816)ä¸­æºç æ‰€åœ¨è·¯å¾„çš„â€œ**sample-videoanalysisperson/script**â€ç›®å½•ä¸‹ã€‚

## ç¼–è¯‘<a name="section1759513564117"></a>

1.  æ‰“å¼€å¯¹åº”çš„å·¥ç¨‹ã€‚

    ä»¥Mind Studioå®‰è£…ç”¨æˆ·åœ¨å‘½ä»¤è¡Œä¸­è¿›å…¥å®‰è£…åŒ…è§£åŽ‹åŽçš„â€œMindStudio-ubuntu/binâ€ç›®å½•ï¼Œå¦‚ï¼š$HOME/MindStudio-ubuntu/binã€‚æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨Mind Studio

    **./MindStudio.sh**

    å¯åŠ¨æˆåŠŸåŽï¼Œæ‰“å¼€**sample-videoanalysisperson**å·¥ç¨‹ï¼Œå¦‚[å›¾ æ‰“å¼€videoanalysispersonå·¥ç¨‹](#fig05481157171918)æ‰€ç¤ºã€‚

    **å›¾ 8**  æ‰“å¼€videoanalysispersonå·¥ç¨‹<a name="fig05481157171918"></a>  
    ![](figures/æ‰“å¼€videoanalysispersonå·¥ç¨‹.png "æ‰“å¼€videoanalysispersonå·¥ç¨‹")

2.  åœ¨**src/param\_configure.conf**æ–‡ä»¶ä¸­é…ç½®ç›¸å…³å·¥ç¨‹ä¿¡æ¯ã€‚

    **å›¾ 9**  é…ç½®æ–‡ä»¶è·¯å¾„<a name="fig0391184062214"></a>  
    ![](figures/é…ç½®æ–‡ä»¶è·¯å¾„.png "é…ç½®æ–‡ä»¶è·¯å¾„")

    è¯¥é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

    ```
    remote_host=
    presenter_view_app_name=
    video_path_of_host=
    rtsp_video_stream=
    ```

    éœ€è¦æ‰‹åŠ¨æ·»åŠ å‚æ•°é…ç½®ï¼š

    -   remote\_hostï¼šé…ç½®ä¸ºAtlas 200 DKå¼€å‘è€…æ¿çš„IPåœ°å€ã€‚

    -   presenter\_view\_app\_name: ç”¨æˆ·è‡ªå®šä¹‰çš„åœ¨PresenterServerç•Œé¢å±•ç¤ºçš„View Nameï¼Œæ­¤View Nameéœ€è¦åœ¨Presenter Serverå±•ç¤ºç•Œé¢å”¯ä¸€ï¼Œåªèƒ½ä¸ºå¤§å°å†™å­—æ¯ã€æ•°å­—ã€â€œ\_â€çš„ç»„åˆï¼Œä½æ•°3\~20ã€‚
    -   video\_path\_of\_hostï¼šé…ç½®ä¸ºHOSTä¾§çš„è§†é¢‘æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚
    -   rtsp\_video\_streamï¼šé…ç½®ä¸ºRTSPè§†é¢‘æµçš„URLã€‚

    è§†é¢‘æ–‡ä»¶é…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š

    ```
    remote_host=192.168.1.2
    presenter_view_app_name=video
    video_path_of_host=/home/HwHiAiUser/person.mp4
    rtsp_video_stream=
    ```

    Rtspè§†é¢‘æµé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š

    ```
    remote_host=192.168.1.2
    presenter_view_app_name=video
    video_path_of_host=
    rtsp_video_stream=rtsp://192.168.2.37:554/cam/realmonitor?channel=1&subtype=0
    ```

    >![](public_sys-resources/icon-note.gif) **è¯´æ˜Žï¼š**   
    >-   å‚æ•°remote\_hostå’Œpresenter\_view\_app\_nameå¿…é¡»å…¨éƒ¨å¡«å†™ï¼Œå¦åˆ™æ— æ³•é€šè¿‡buildã€‚  
    >-   æ³¨æ„å‚æ•°å¡«å†™æ—¶ä¸éœ€è¦ä½¿ç”¨â€œâ€ç¬¦å·ã€‚  
    >-   å‚æ•°video\_path\_of\_hostå’Œrtsp\_video\_streamå¿…é¡»è‡³å°‘å¡«å†™ä¸€é¡¹ã€‚  
    >-   å½“å‰RTSPè§†é¢‘æµåªæ”¯æŒrtsp://ip:port/pathæ ¼å¼ï¼Œå¦‚æžœéœ€è¦ä½¿ç”¨å…¶å®ƒæ ¼å¼çš„urlï¼Œéœ€è¦æŠŠvideo\_decode.cppä¸­çš„IsValidRtspå‡½æ•°åŽ»é™¤ï¼Œæˆ–è€…ç›´æŽ¥è¿”å›žtrueï¼Œè·³è¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚  
    >-   æœ¬æ ·ä¾‹ä¸­æä¾›çš„RTSPæµåœ°å€ä¸å¯ä»¥ç›´æŽ¥ä½¿ç”¨ã€‚å¦‚æžœéœ€è¦ä½¿ç”¨RTSPï¼Œè¯·åœ¨æœ¬åœ°ä½¿ç”¨live555æˆ–å…¶å®ƒæ–¹å¼åˆ¶ä½œRTSPè§†é¢‘æµï¼Œå¹¶ä¸”å¯ä»¥åœ¨VLCä¸­æ’­æ”¾ã€‚ç„¶åŽå°†æœ¬åœ°åˆ¶ä½œå¥½çš„RTSPè§†é¢‘æµçš„URLå¡«å…¥é…ç½®æ–‡ä»¶çš„ç›¸åº”å‚æ•°ä¸­ï¼Œå³å¯è¿è¡Œã€‚  

3.  æ‰§è¡Œdeployè„šæœ¬ï¼Œ è¿›è¡Œé…ç½®å‚æ•°è°ƒæ•´åŠç¬¬ä¸‰æ–¹åº“ä¸‹è½½ç¼–è¯‘ æ‰“å¼€Mind Studioå·¥å…·çš„Terminalï¼Œæ­¤æ—¶é»˜è®¤åœ¨ä»£ç ä¸»ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤åœ¨åŽå°æŒ‡æ‰§è¡Œdeployè„šæœ¬ï¼Œè¿›è¡ŒçŽ¯å¢ƒéƒ¨ç½²ã€‚å¦‚[å›¾ æ‰§è¡Œdeployè„šæœ¬](#fig581125810247)æ‰€ç¤ºã€‚

    **å›¾ 10**  æ‰§è¡Œdeployè„šæœ¬<a name="fig581125810247"></a>  
    ![](figures/æ‰§è¡Œdeployè„šæœ¬-11.png "æ‰§è¡Œdeployè„šæœ¬-11")

    >![](public_sys-resources/icon-note.gif) **è¯´æ˜Žï¼š**   
    >-   é¦–æ¬¡deployæ—¶ï¼Œæ²¡æœ‰éƒ¨ç½²ç¬¬ä¸‰æ–¹åº“æ—¶ä¼šè‡ªåŠ¨ä¸‹è½½å¹¶ç¼–è¯‘ï¼Œè€—æ—¶å¯èƒ½æ¯”è¾ƒä¹…ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚åŽç»­å†é‡æ–°ç¼–è¯‘æ—¶ï¼Œä¸ä¼šé‡å¤ä¸‹è½½ç¼–è¯‘ï¼Œéƒ¨ç½²å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚  
    >-   deployæ—¶ï¼Œéœ€è¦é€‰æ‹©ä¸Žå¼€å‘æ¿é€šä¿¡çš„ä¸»æœºä¾§ipï¼Œä¸€èˆ¬ä¸ºè™šæ‹Ÿç½‘å¡é…ç½®çš„ipã€‚å¦‚æžœæ­¤ipå’Œå¼€å‘æ¿ipå±žäºŽåŒç½‘æ®µï¼Œåˆ™ä¼šè‡ªåŠ¨é€‰æ‹©å¹¶éƒ¨ç½²ã€‚å¦‚æžœéžåŒç½‘æ®µï¼Œåˆ™éœ€è¦æ‰‹åŠ¨è¾“å…¥ä¸Žå¼€å‘æ¿é€šä¿¡çš„ä¸»æœºä¾§ipæ‰èƒ½å®Œæˆdeployã€‚  

4.  å¼€å§‹ç¼–è¯‘ï¼Œæ‰“å¼€Mind Studioå·¥å…·ï¼Œåœ¨å·¥å…·æ ä¸­ç‚¹å‡»**Build \> Build \> Build-Configuration**ã€‚å¦‚[å›¾ ç¼–è¯‘æ“ä½œåŠç”Ÿæˆæ–‡ä»¶](#fig1625447397)æ‰€ç¤ºï¼Œä¼šåœ¨ç›®å½•ä¸‹ç”Ÿæˆbuildå’Œrunæ–‡ä»¶å¤¹ã€‚

    **å›¾ 11**  ç¼–è¯‘æ“ä½œåŠç”Ÿæˆæ–‡ä»¶<a name="fig1625447397"></a>  
    

    ![](figures/zh-cn_image_0208267063.png)

    >![](public_sys-resources/icon-notice.gif) **é¡»çŸ¥ï¼š**   
    >é¦–æ¬¡ç¼–è¯‘å·¥ç¨‹æ—¶ï¼Œ**Build \> Build**ä¸ºç°è‰²ä¸å¯ç‚¹å‡»çŠ¶æ€ã€‚éœ€è¦ç‚¹å‡»**Build \> Edit Build Configuration**ï¼Œé…ç½®ç¼–è¯‘å‚æ•°åŽå†è¿›è¡Œç¼–è¯‘ã€‚  

5. <a name="li499911453439"></a>å¯åŠ¨Presenter Serverã€‚

    æ‰“å¼€Mind Studioå·¥å…·çš„Terminalï¼Œåœ¨åº”ç”¨ä»£ç å­˜æ”¾è·¯å¾„ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤åœ¨åŽå°å¯åŠ¨äººä½“æ£€æµ‹åº”ç”¨çš„Presenter Serverä¸»ç¨‹åºã€‚å¦‚[å›¾ å¯åŠ¨PresenterServer](#fig423515251067)æ‰€ç¤ºã€‚

    **bash run\_present\_server.sh**

    **å›¾ 12**  å¯åŠ¨PresenterServer<a name="fig423515251067"></a>  
    ![](figures/å¯åŠ¨PresenterServer.png "å¯åŠ¨PresenterServer")

    -   å½“æç¤ºâ€œPlease choose one to show the presenter in browser\(default: 127.0.0.1\):â€œæ—¶ï¼Œè¯·è¾“å…¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®Presenter ServeræœåŠ¡æ‰€ä½¿ç”¨çš„IPåœ°å€ï¼ˆä¸€èˆ¬ä¸ºè®¿é—®Mind Studioçš„IPåœ°å€ï¼‰ã€‚

        å¦‚[å›¾ å·¥ç¨‹éƒ¨ç½²ç¤ºæ„å›¾](#fig999812514814)æ‰€ç¤ºï¼Œè¯·åœ¨â€œ**Current environment valid ip list**â€ä¸­é€‰æ‹©é€šè¿‡æµè§ˆå™¨è®¿é—®Presenter ServeræœåŠ¡ä½¿ç”¨çš„IPåœ°å€ã€‚

        **å›¾ 13**  å·¥ç¨‹éƒ¨ç½²ç¤ºæ„å›¾<a name="fig999812514814"></a>  
        ![](figures/å·¥ç¨‹éƒ¨ç½²ç¤ºæ„å›¾.png "å·¥ç¨‹éƒ¨ç½²ç¤ºæ„å›¾")

    -   å½“æç¤ºâ€œPlease input a absolute path to storage video analysis data:â€œæ—¶ï¼Œè¯·è¾“å…¥Mind Studioä¸­çš„ç»å¯¹è·¯å¾„ç”¨äºŽå­˜å‚¨è§†é¢‘è§£æžæ•°æ®ï¼Œæ­¤è·¯å¾„Mind Studioç”¨æˆ·éœ€è¦æœ‰è¯»å†™æƒé™ï¼Œè‹¥æ­¤è·¯å¾„ä¸å­˜åœ¨ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»ºã€‚

    å¦‚[å›¾14](#fig69531305324)æ‰€ç¤ºï¼Œè¡¨ç¤ºpresenter\_serverçš„æœåŠ¡å¯åŠ¨æˆåŠŸã€‚

    **å›¾ 14**  Presenter Serverè¿›ç¨‹å¯åŠ¨<a name="fig69531305324"></a>  
    ![](figures/Presenter-Serverè¿›ç¨‹å¯åŠ¨.png "Presenter-Serverè¿›ç¨‹å¯åŠ¨")

    ä½¿ç”¨ä¸Šå›¾æç¤ºçš„URLç™»å½•Presenter Serverï¼ˆä»…æ”¯æŒChromeæµè§ˆå™¨ï¼‰ï¼ŒIPåœ°å€ä¸º[å›¾13](#fig999812514814)ä¸­è¾“å…¥çš„IPåœ°å€ï¼Œç«¯å£å·é»˜ä¸º7011ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¡¨ç¤ºPresenter Serverå¯åŠ¨æˆåŠŸã€‚

    **å›¾ 15**  ä¸»é¡µæ˜¾ç¤º<a name="fig64391558352"></a>  
    ![](figures/ä¸»é¡µæ˜¾ç¤º-12.png "ä¸»é¡µæ˜¾ç¤º-12")

    Presenter Serverã€Mind Studioä¸ŽAtlas 200 DKä¹‹é—´é€šä¿¡ä½¿ç”¨çš„IPåœ°å€ç¤ºä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

    **å›¾ 16**  IPåœ°å€ç¤ºä¾‹<a name="fig1881532172010"></a>  
    ![](figures/IPåœ°å€ç¤ºä¾‹-13.png "IPåœ°å€ç¤ºä¾‹-13")

    -   Atlas 200 DKå¼€å‘è€…æ¿ä½¿ç”¨çš„IPåœ°å€ä¸º192.168.1.2ï¼ˆUSBæ–¹å¼è¿žæŽ¥ï¼‰ã€‚
    -   Presenter Serverä¸ŽAtlas 200 DKé€šä¿¡çš„IPåœ°å€ä¸ºUI HostæœåŠ¡å™¨ä¸­ä¸ŽAtlas 200 DKåœ¨åŒä¸€ç½‘æ®µçš„IPåœ°å€ï¼Œä¾‹å¦‚ï¼š192.168.1.223ã€‚
    -   é€šè¿‡æµè§ˆå™¨è®¿é—®Presenter Serverçš„IPåœ°å€æœ¬ç¤ºä¾‹ä¸ºï¼š10.10.0.1ï¼Œç”±äºŽPresenter Serverä¸ŽMind Studioéƒ¨ç½²åœ¨åŒä¸€æœåŠ¡å™¨ï¼Œæ­¤IPåœ°å€ä¹Ÿä¸ºé€šè¿‡æµè§ˆå™¨è®¿é—®Mind Studioçš„IPã€‚

6.  äººä½“æ£€æµ‹åº”ç”¨æ”¯æŒè§£æžæœ¬åœ°è§†é¢‘å’ŒRTSPè§†é¢‘æµã€‚
    -   å¦‚æžœéœ€è¦è§£æžæœ¬åœ°è§†é¢‘ï¼Œéœ€è¦å°†è§†é¢‘æ–‡ä»¶ä¼ åˆ°Hostä¾§ã€‚

        ä¾‹å¦‚å°†è§†é¢‘æ–‡ä»¶person.mp4ä¸Šä¼ åˆ°Hostä¾§çš„â€œ/home/HwHiAiUser/â€œç›®å½•ä¸‹ã€‚

        >![](public_sys-resources/icon-note.gif) **è¯´æ˜Žï¼š**   
        >æ”¯æŒH264ä¸ŽH265æ ¼å¼çš„MP4æ–‡ä»¶ï¼Œå¦‚æžœMP4æ–‡ä»¶éœ€è¦å‰ªè¾‘ï¼Œå»ºè®®ä½¿ç”¨å¼€æºå·¥å…·ffmpegï¼Œä½¿ç”¨å…¶ä»–å·¥å…·å‰ªè¾‘çš„è§†é¢‘æ–‡ä»¶ffmpegå·¥å…·å¯èƒ½ä¸æ”¯æŒè§£æžã€‚  

    -   å¦‚æžœä»…è§£æžRTSPè§†é¢‘æµï¼Œæœ¬æ­¥éª¤å¯è·³è¿‡ã€‚


## è¿è¡Œ<a name="section6245151616426"></a>

1.  è¿è¡Œäººä½“æ£€æµ‹åº”ç”¨ç¨‹åºã€‚

    åœ¨Mind Studioå·¥å…·çš„å·¥å…·æ ä¸­æ‰¾åˆ°RunæŒ‰é’®ï¼Œç‚¹å‡»**Run \> Run 'sample-videoanalysisperson'**ï¼Œå¦‚[å›¾ ç¨‹åºå·²æ‰§è¡Œç¤ºæ„å›¾](#fig93931954162719)æ‰€ç¤ºï¼Œå¯æ‰§è¡Œç¨‹åºå·²ç»åœ¨å¼€å‘æ¿æ‰§è¡Œã€‚

    **å›¾ 17**  ç¨‹åºå·²æ‰§è¡Œç¤ºæ„å›¾<a name="fig93931954162719"></a>  
    

    ![](figures/sample-videoperson-running.png)

2.  ä½¿ç”¨å¯åŠ¨Presenter ServeræœåŠ¡æ—¶æç¤ºçš„URLç™»å½• Presenter Server ç½‘ç«™ï¼ˆä»…æ”¯æŒChromeæµè§ˆå™¨ï¼‰ï¼Œè¯¦ç»†å¯å‚è€ƒ[æ­¥éª¤5](#li499911453439)ã€‚

    >![](public_sys-resources/icon-note.gif) **è¯´æ˜Žï¼š**   
    >äººä½“æ£€æµ‹åº”ç”¨ç¨‹åºçš„Presenter Serveræœ€å¤šæ”¯æŒ2ä¸ª  _presenter\_view\_app\_name_  åŒæ—¶æ˜¾ç¤ºã€‚  

    é¡µé¢å·¦ä¾§æ ‘ç»“æž„åˆ—å‡ºäº†è§†é¢‘æ‰€å±žapp nameä»¥åŠé€šé“åï¼Œä¸­é—´åˆ—å‡ºäº†æŠ½å–çš„è§†é¢‘å¸§å¤§å›¾ä»¥åŠæ£€æµ‹å‡ºçš„ç›®æ ‡å°å›¾ï¼Œç‚¹å‡»ä¸‹æ–¹å°å›¾åŽä¼šåœ¨å³ä¾§åˆ—å‡ºè¯¦ç»†çš„æŽ¨ç†ç»“æžœã€è¯„åˆ†ã€‚

    æœ¬åº”ç”¨æ”¯æŒäººä½“å±žæ€§æ£€æµ‹å’Œäººè„¸å±žæ€§æ£€æµ‹ã€‚

    -   äººä½“å±žæ€§åŒ…æ‹¬ï¼š

        Ageï¼šå…±åˆ†Age16-30ï¼ŒAge31-45ï¼ŒAge46-60ï¼ŒAgeAbove61å››ä¸ªå¹´é¾„æ®µ; Backpack; CarryingOther; Casual lower; Casual upper; Formal lower; Hat; Jacket; Jeans; Leather Shoes; Logo; Short hair/Long hair; Male/Female; Messenger Bag; Muffler; No accessory; No carrying; Plaid; PlasticBags; Sandals; Shoes; Shorts; Short Sleeve; Skirt; Sneaker; Stripes; Sunglasses; Trousers; Tshirt; UpperOther; V-Neckã€‚

        å…¶ä¸­åœ¨è§†é¢‘åˆ†æžç•Œé¢çš„è¯¦ç»†æŽ¨ç†ç»“æžœå±•ç¤ºåŒºåŸŸï¼ŒAgeã€Male/Femaleã€Short hair/Long hairæ˜¯å¿…å±•ç¤ºå±žæ€§ï¼Œå…¶ä»–å±žæ€§å½“ç½®ä¿¡åº¦\>0.5æ—¶åˆ™å±•ç¤ºï¼Œå¦åˆ™ä¸å±•ç¤ºã€‚

    -   äººè„¸å±žæ€§æ£€æµ‹æ”¯æŒå¹´é¾„å’Œæ€§åˆ«çš„çš„è¯†åˆ«ã€‚


## åŽç»­å¤„ç†<a name="section1092612277429"></a>

-   **åœæ­¢äººä½“æ£€æµ‹åº”ç”¨**

    è§†é¢‘ç¨‹åºåˆ†æžå®Œä¹‹åŽä¼šè‡ªåŠ¨åœæ­¢é€€å‡ºï¼Œå¦‚[å›¾ videopersonåº”ç”¨ç¨‹åºåœæ­¢](#fig853816815204)æ‰€ç¤º

    **å›¾ 18**  videopersonåº”ç”¨ç¨‹åºåœæ­¢<a name="fig853816815204"></a>  
    ![](figures/videopersonåº”ç”¨ç¨‹åºåœæ­¢.png "videopersonåº”ç”¨ç¨‹åºåœæ­¢")

-   **åœæ­¢Presenter ServeræœåŠ¡**

    Presenter ServeræœåŠ¡å¯åŠ¨åŽä¼šä¸€ç›´å¤„äºŽè¿è¡ŒçŠ¶æ€ï¼Œè‹¥æƒ³åœæ­¢äººä½“æ£€æµ‹åº”ç”¨å¯¹åº”çš„Presenter ServeræœåŠ¡ï¼Œå¯æ‰§è¡Œå¦‚ä¸‹æ“ä½œã€‚

    ä»¥Mind Studioå®‰è£…ç”¨æˆ·åœ¨Mind Studioæ‰€åœ¨æœåŠ¡å™¨ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹äººä½“æ£€æµ‹åº”ç”¨å¯¹åº”çš„Presenter ServeræœåŠ¡çš„è¿›ç¨‹ã€‚

    **ps -ef | grep presenter | grep video\_analysis\_person**

    ```
    ascend@ascend-HP-ProDesk-600-G4-PCI-MT:~/sample-videoanalysisperson$ ps -ef | grep presenter | grep video_analysis_car
    ascend 3656 20313 0 15:10 pts/24?? 00:00:00 python3 presenterserver/presenter_server.py --app video_analysis_person
    ```

    å¦‚ä¸Šæ‰€ç¤º_3656_  å³ä¸ºäººä½“æ£€æµ‹åº”ç”¨å¯¹åº”çš„Presenter ServeræœåŠ¡çš„è¿›ç¨‹IDã€‚

    è‹¥æƒ³åœæ­¢æ­¤æœåŠ¡ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š

    **kill -9** _3656_

-   **é‡å¯äººä½“æ£€æµ‹åº”ç”¨æ—¶æ³¨æ„ç‚¹**

    é‡æ–°å¯åŠ¨äººä½“æ£€æµ‹åº”ç”¨æ—¶è¯·ç¡®ä¿ä»¥ä¸‹æ¡ä»¶æ»¡è¶³ä»»æ„ä¸€ä¸ªï¼Œå¦åˆ™ä¼šæŠ¥é”™:

    1.  è¯·ç¡®ä¿è§†é¢‘è§£æžæ•°æ®å­˜å‚¨è·¯å¾„ä¸­å†…å®¹å·²ç»æ¸…ç©ºã€‚

        ä¾‹å¦‚ï¼šè§†é¢‘è§£æžæ•°æ®å­˜å‚¨è·¯å¾„ä¸ºï¼š\\$HOME/videoperson\_storage/videoï¼Œå…¶ä¸­ï¼š\\$HOME/videoperson\_storageæ˜¯æ‰§è¡Œ[æ­¥éª¤5](#li499911453439)æ—¶é…ç½®çš„â€œPlease input a absolute path to storage video analysis dataâ€çš„å€¼ï¼Œvideoä¸º**param\_configure.conf**é…ç½®æ–‡ä»¶ä¸­å‚æ•°**presenter\_view\_app\_name**çš„å€¼ã€‚

        æ»¡è¶³æ­¤æ¡ä»¶æƒ…å†µä¸‹ï¼Œæ— éœ€é‡å¯Presenter Serverï¼Œç›´æŽ¥é‡æ–°æ‰§è¡Œ  **Run \> Run 'sample-videoanalysisperson'**  è¿è¡Œåº”ç”¨ç¨‹åºå³å¯ã€‚

    2.  è§†é¢‘è§£æžæ•°æ®å­˜å‚¨è·¯å¾„ä¸­å¦‚æžœå·²æœ‰æ•°æ®ä¸”ä¸æƒ³åˆ é™¤ï¼Œå¯ä»¥ä¿®æ”¹**param\_configure.conf**é…ç½®æ–‡ä»¶ä¸­**presenter\_view\_app\_name**å‚æ•°çš„å€¼ï¼Œç„¶åŽåœ¨Mind Studioç•Œé¢ä¸­é‡æ–°æ‰§è¡Œ**Build \> Rebuild**ï¼Œå†æ‰§è¡Œ  **Run \> Run 'sample-videoanalysisperson'**  å³å¯ã€‚

        **param\_configure.conf**é…ç½®æ–‡ä»¶ä¸­å‚æ•°**presenter\_view\_app\_name**çš„å€¼å¦‚ä¸‹æ‰€ç¤ºã€‚

        ![](figures/äººä½“æ£€æµ‹çš„é…ç½®æ–‡ä»¶.png)

        æ»¡è¶³æ­¤æ¡ä»¶æƒ…å†µä¸‹ï¼Œæ— éœ€é‡å¯Presenter Serverã€‚

    3.  è‹¥é‡æ–°å¯åŠ¨Presenter Serverï¼Œå†è¿è¡Œè½¦è¾†æ£€æµ‹åº”ç”¨ï¼Œåœ¨å¯åŠ¨Presenter Serveræ—¶è¯·ä¿®æ”¹å­˜å‚¨è§†é¢‘è§£æžçš„æ•°æ®çš„è·¯å¾„ï¼ˆä¸ä¸Žä¹‹å‰å­˜å‚¨è·¯å¾„é‡å¤ï¼‰ï¼Œè¯·å‚è€ƒ[æ­¥éª¤5](#li499911453439)ã€‚


